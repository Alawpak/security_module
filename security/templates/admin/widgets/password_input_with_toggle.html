{% load static %}

<div class="input-group">
  <input
    type="{{ widget.type }}"
    name="{{ widget.name }}"
    {%
    if
    widget.value
    is
    not
    None
    and
    widget.value
    !=""
    %}value="{{ widget.value }}"
    {%
    endif
    %}
    class="form-control"
    id="{{ widget.attrs.id }}"
    {%
    if
    widget.attrs.required
    %}required{%
    endif
    %}
  />
  <div class="input-group-append">
    <button
      type="button"
      class="btn btn-outline-secondary toggle-password"
      tabindex="-1"
    >
      Mostrar / Ocultar contrase√±a
    </button>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const passwordInput = document.querySelector('[type="password"]');
    const toggleButton = document.querySelector(".toggle-password");

    toggleButton.addEventListener("click", () => {
      if (passwordInput.type === "password") {
        passwordInput.type = "text";
      } else {
        passwordInput.type = "password";
      }
    });
  });
</script>
